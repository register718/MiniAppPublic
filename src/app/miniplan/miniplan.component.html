<div class="m-3">
  <h2>Miniplan</h2>
  <button mat-mini-fab color="primary" [matMenuTriggerFor]="planMenu"
    *ngIf="userService.has('api.add_plan')">+</button>
  <mat-menu #planMenu="matMenu">
    <button mat-menu-item (click)="createPlan(0);">Normal</button>
    <button mat-menu-item (click)="createPlan(1);">Sonderplan</button>
  </mat-menu>
  <div class="mt-3">
    <mat-divider></mat-divider>
    <mat-accordion>
      <ng-container *ngFor="let key of sortedPlanKeyList">
        <mat-expansion-panel class="shadow-none">
          <mat-expansion-panel-header class="pt-1">
            <mat-panel-title>
              <a [routerLink]="getPlanLink(key)">
                <span class="text-dark">{{planService.PlanListInst[key].Name}}</span>
              </a>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <div class="conatiner-fulid">
            <div class="row">
              <div class="col-4">
                Beginn: {{planService.PlanListInst[key].StartDatum|showDate}}
              </div>
              <div class="col-4">
                Ende: {{planService.PlanListInst[key].EndDatum|showDate}}
              </div>
              <div class="col-4">
                Planart: {{planService.PlanListInst[key].PlanArt == 0 ? 'Normal' : 'Sonderplan'}}
              </div>
            </div>
          </div>
        </mat-expansion-panel>
        <mat-divider></mat-divider>
      </ng-container>
    </mat-accordion>
  </div>
</div>
