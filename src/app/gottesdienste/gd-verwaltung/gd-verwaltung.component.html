<div class="full">
<h2 class="ms-2">Gottesdienste</h2>
<div class="container-fulid">
<div class="row full">
<form [formGroup]="gd_form" class="p-4 col-4">
    <p>
      <mat-form-field>
        <mat-label>Gottesdienst</mat-label>
        <mat-select #gdSelect (valueChange)="gd_SelectChanged(gdSelect.value)" formControlName="id" >
          <mat-option [value]="-1" *ngIf="gd_addPermission">*Neu</mat-option>
          <mat-option *ngFor="let gd of gd_List_Key" [value]="gd">{{gd}}. {{gd_List[gd].Datum.getDate()}}.{{gd_List[gd].Datum.getMonth() + 1}}.{{gd_List[gd].Datum.getFullYear()}}</mat-option>
        </mat-select>
      </mat-form-field>
    </p>

    <mat-form-field>
      <mat-label>Art</mat-label>
      <mat-select #artInput formControlName="Art" (valueChange)="zeitInput.value = gdService.gd_Art_List_Inst[artInput.value]?.Zeit">
        <mat-option *ngFor="let gd_art of gdService.gd_Art_List_Key_Inst" [value]="gd_art">{{gdService.gd_Art_List_Inst[gd_art]?.Name}}</mat-option>
      </mat-select>
    </mat-form-field>

    <br>

    <mat-form-field appearance="fill">
      <mat-label>Datum</mat-label>
      <input matInput [matDatepicker]="pickerDate" formControlName="Datum" >
      <mat-datepicker-toggle matSuffix [for]="pickerDate"></mat-datepicker-toggle>
      <mat-datepicker #pickerDate ></mat-datepicker>
    </mat-form-field>

    <br>

    <mat-form-field appearance="fill">
      <mat-label>Zeit</mat-label>
      <input #zeitInput matInput formControlName="Zeit" placeholder="--:--" />
    </mat-form-field>

    <br>

    <mat-form-field>
      <mat-label>Info</mat-label>
      <input matInput formControlName="Info" />
    </mat-form-field>

    <p><mat-slide-toggle formControlName="explizit" >Gottesdienst extra einteilen</mat-slide-toggle></p>

    <input hidden formControlName="Plan_id" />
    <input hidden type="checkbox" formControlName="autogenerated" />
    <input hidden type="number" formControlName="notify" />

    <p><button mat-raised-button color="warn" class="me-2" *ngIf="delete_Enabled && userService.has('api.delete_messe')" (click)="deleteMesse()">LÃ¶schen</button>
      <button mat-raised-button (click)="gd_speichern();" color="primary" *ngIf="(gdSelect.value === -1 && gd_addPermission) || (gdSelect.value !== -1 && gd_changePermission)">Speichern</button></p>
  </form>
  
  <ng-container *ngIf="show_calender">
    <app-caldender class="col-8 d-none d-xl-block" [setDate]="setCalenderSub" [changeEintrag]="calender" (dateChanged)="calenderChanged($event);"></app-caldender>
  </ng-container>
</div>
</div>
</div>